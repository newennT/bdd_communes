{% extends 'base.html.twig' %}

{% block title %}Liste des pays{% endblock %}

{% block body %}
    <div class="mt-4">
        <h1>Liste des pays</h1>
    </div>

    <div class="container mt-4 d-flex justify-content-center">
        <img class="img-fluid rounded" src="{{ asset('img/pays-bretagne.webp') }}" alt="">
    </div>

    <div class="container my-5">
        {% if is_granted('IS_AUTHENTICATED') %}
            <a class="btn btn-warning" href="{{ path('app_admin_pays_new') }}">Create new</a>
        {% endif %}

        <div class="pb-3 pt-2">
            <div class="list-group">
                <ul class="liste-pays-index ps-0">
                    {% for pay in pays | sort((a, b) => a.nomFrancais <=> b.nomFrancais) %}
                        <a class="d-flex justify-content-between align-items-center list-group-item list-group-item-action" href="{{ path('app_pays_show', {'id': pay.id, '_locale': app.request.locale}) }}">
                        {{ pay.getNomParLangue(app.request.locale) }} 
                        </a>
                        
                        {% if is_granted('IS_AUTHENTICATED') %}
                        <a class="btn btn-warning" href="{{ path('app_admin_pays_edit', {'id': pay.id}) }}">Modifier</a>
                        {% endif %}

                    {% else %}
                        Aucun pays à afficher
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <div class="index-communes-section03">
        <div class="container py-5 text-center">
        <h2 class="pb-5">Naviguer dans le site</h2>
            <div class="row">
                <div class="col-12 col-md-6 mb-3">
                    <a class="btn btn-lg" href="{{ path('app_eveche_index') }}">Aller à la page des évêchés</a>
                </div>

                <div class="col col-md-6">
                    <a class="btn btn-lg" href="{{ path('app_commune_index') }}">Aller à la page des communes</a>
                </div>
            </div>
        </div>
    
    </div>





{% endblock %}

